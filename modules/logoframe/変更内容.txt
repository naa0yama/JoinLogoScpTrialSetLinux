透過ロゴ表示区間検出 logoframe   初期バージョンからの変更内容

■精度向上とロゴデータ形式の対応追加 (Ver1.20)
・薄いロゴの検出強化
・拡張子.lgd2のロゴデータも読み込めるように修正

■精度向上の修正 (Ver1.16)
・エッジ検出不足となり正常動作しなかったロゴに対応
・検出可能箇所がロゴ直線部分しかない時誤検出するケースを修正
・オプション-logo指定でロゴデータ定義が見つからなくてもエラーにしない修正
　（出力ファイルが作成されないことからエラーでなくても実行なし判断可能）

■精度向上の修正 (Ver1.15)
・Ver1.14修正部分関連の調整

■精度向上の修正 (Ver1.14)
・ロゴなしの判定を厳しくするオプション追加（オプション -yoffedg,-offwidth）
・ロゴの影部分で透過率の高い所はロゴ検出できなくても無視する修正
・水平直線が長いロゴで誤検出するケースを防ぐ処理追加
・オプション-mrgleftの初期値を500に変更（従来150）

[追加の検出パラメータ]
-yoffedg 輝度値
   指定輝度値を超えたらエッジ検出でロゴなしと判断しても不確定扱い。
   輝度が高いとロゴが崩れた状態のまま継続されるロゴで指定する。
   初期値：255

-offwidth フレーム数
    ロゴ表示終了判定に使用するフレーム数を指定。
    指定したフレーム数の間ロゴなし判定されていたら終了と判断される。
    0の時は-onwidthの値が使用される。
    初期値：0

■不具合修正 (Ver1.13)
・環境・条件により正しい結果が出ないことがあった不具合を修正

■不具合修正 (Ver1.12)
・-logoオプションで読み込めない文字列があった不具合を修正


■複数ロゴ同時検出からの修正 (Ver1.11)

・対応するロゴ透過度を拡大
・ロゴと背景の輝度差が小さい時の判別処理を強化
・短いロゴ切れ目を出力しないことがある不具合を修正

[追加の検出パラメータ]
-ydif 輝度差16倍
   ロゴのエッジ検出を行う最低輝度差（輝度1につき16）を指定。
   小さくすると検出上がるが、誤差の影響を受けやすくなる。
   初期値：40

-ysetdif 輝度値
   指定輝度値でエッジ検出をしないydif値であれば補正。
   ただし補正ydifの最小値は24。0指定時は補正を行わない。
   初期値：222

※ロゴと背景の輝度差が小さい時は、エッジ検出以外に輝度ばらつき小さい時限定で
  ロゴと背景それぞれ平均による検出も使われる（従来通り）。

※従来同等設定にしたい場合は「-ydif 56 -ysetdif 0」を指定。


■複数ロゴ同時検出 (Ver1.10)

複数のロゴをまとめて検出。
下記２種類の指定方法あり（両方指定も可能）。

【指定方法1】

-logo ロゴファイル名
   ロゴファイル名拡張子前までを完全に含み、拡張子も同じファイルを
   まとめ検出用ロゴ数（通常90）を上限に読み込み。
   拡張子を省略した場合は".lgd"付加。

（例）-logo "C:\dir\data.lgd"
  ファイル名が「C:\dir\data*.lgd」に当てはまるロゴを同時に検出。
  完全一致ファイル名だけを検出したい場合は「-logo1」オプションで可能。
      -logo "C:\dir\logodata"
  一致するフォルダ名があれば"C:\dir\logodata\*.lgd"を、なければ
  "C:\dir\logodata*.lgd"を検索。


【指定方法2】

下記オプションの中から必要なだけ指定することで最大100ロゴ同時に検出。

-logo1 ロゴファイル名
-logo2 ロゴファイル名
 〜
-logo100 ロゴファイル名


【まとめ検出用ロゴ数指定（必要な場合のみ）】

-oanum 数値
   「-oa」オプションのロゴ表示区間検出結果に使用するロゴ数を指定。
   （-logo1〜-logo指定数値までを使用。省略時は90）

（例）-oanum 90
  logo1〜logo90までのロゴを「-oa」オプションによる期間まとめ検出に使用、
  logo91以降は-oオプション用で無関係のロゴを想定。


【まとめ検出用ロゴ種類選択（必要な場合のみ）】

-oasel 数値
   「-oa」オプション結果出力に使用するロゴを表示区間から限定。
    ロゴ表示区間が全く同じ場合はロゴ番号の小さい方を優先。
    数値 0: ロゴ表示区間が長い順に期間重複なければ選択（オプション省略時設定）
         1: ロゴ表示区間が一番長いロゴ１つだけを選択。
         2: まとめ検出用ロゴ全部のOR。


【個別ロゴ結果ファイル出力選択（必要な場合のみ）】

-oamask 数値
   「-oa」オプションの個別ロゴ結果をファイル出力するか選択。
   0の時全ファイル出力で、出力しない場合は対応する数値を加算する。
   数値 1: -oaselで対象外となったロゴは出力しない
          （ファイル名：-oaファイル名+"_X*"）
        2: -oanum以上ロゴ番号のまとめ検出とは無関係のロゴは出力しない
          （ファイル名：-oaファイル名+"_S*"）
        4: まとめ検出対象の個別ロゴは出力しない
          （ファイル名：-oaファイル名+"_*"）
        8: 個別ロゴのリストは出力しない
          （ファイル名：-oaファイル名+"_list.ini"）


■不明確な検出ロゴの無効化
不明確な検出だけのロゴは、下記オプション指定数値分の１以下のフレームしか
検出がなければ無効化。0の時は無効化処理を行わない。初期値は8。

-clrrate 数値

（例）-clrrate 16
  明確な検出が１フレームもないロゴで、検出期間も全フレームの1/16以下だった
  場合は無効として検出がなかったこととする。


■ロゴオプション指定をファイル内記載で行う方法追加
下記オプションでロゴ関連オプションをファイルから指定することが可能。

-F ロゴオプション記載ファイル名


■iniファイルによるオプション指定
実行ファイル(logoframe.exe)と同じフォルダにあるlogoframe.iniを読み込み。
ロゴ関連のオプションを指定可能。
セクションは[logoframe]で、オプションから"-"を除いた名前が項目。


■画面表示制御
-paramoff  数値
   1を設定したら各ロゴのパラメータ情報を表示しない。
-dispoff  数値
   1を設定したら標準出力に表示しているメッセージを出さない。


■-oオプション出力フォーマット変更

下記オプションを指定することで「-o」オプション出力形式を選択。

-outform 数値
  数値 0:「EraseLOGO」呼び出し（従来通り。オプション省略時もこちら）
       1: 片フィールドロゴにも対応。AVS実行時に別途関数Importする必要あり。


■非認識オプション指定時はwarningに変更

  登録されてないオプションがあった場合、warning表示だけで続行。
  "-errforce"オプション指定したら従来通り強制終了。


■途中で数フレームだけロゴが消えている場合のロゴ表示区間修正

ロゴ表示開始／終了位置付近で数フレーム完全にロゴが消えている場合、
最優先でロゴ表示開始／終了位置としていた処理を消去。
（圧縮ノイズの大きい局で数フレームロゴ消えのケースがあったため処理変更）


■30フレームフェード対応

30フレームのフェード認識に対応。
下記オプションを指定した場合に有効。

-fadein 30 -fadeout 30

別の指定方法：
ロゴファイルと同じフォルダにテキストファイル新規作成で
-fadein 30
-fadeout 30
を記載し、ロゴファイル名の拡張子".lgd"を".logoframe.txt"に変えた名前にする。
